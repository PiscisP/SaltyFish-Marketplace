<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.test.dataaccess.mapper.AssetMapper">
    <!-- 根节点 -->
    <!-- 设置resultMap -->
    <resultMap id="AssetDO" type="com.test.dataaccess.entity.AssetDO">
        <id column="id" jdbcType="BIGINT" property="id" />
        <result column="merchant_id" jdbcType="BIGINT" property="merchantId" />
        <result column="asset_category_id" jdbcType="BIGINT" property="asset_category_id"/>
        <result column="manager_user_id" jdbcType="BIGINT" property="manager_user_id"/>
        <result column="place_id" jdbcType="BIGINT" property="place_id"/>
        <result column="belong_company_id" jdbcType="BIGINT" property="belong_company_id"/>
        <result column="use_company_id" jdbcType="BIGINT" property="use_company_id"/>
        <result column="employee_id" jdbcType="BIGINT" property="employee_id"/>
        <result column="asset_image_id" jdbcType="BIGINT" property="asset_image_id"/>
        <result column="asset_name" jdbcType="VARCHAR" property="asset_name"/>
        <result column="asset_code" jdbcType="VARCHAR" property="asset_code"/>
        <result column="brand" jdbcType="VARCHAR" property="brand"/>
        <result column="model" jdbcType="VARCHAR" property="model"/>
        <result column="year_limit" jdbcType="SMALLINT" property="year_limit"/>
        <result column="amount" jdbcType="DECIMAL" property="amount"/>
        <result column="supplier_name" jdbcType="VARCHAR" property="supplier_name"/>
        <result column="out_order_no" jdbcType="VARCHAR" property="out_order_no"/>
        <result column="unit" jdbcType="VARCHAR" property="unit"/>
        <result column="purchase_time" jdbcType="TIMESTAMP" property="purchase_time"/>
        <result column="last_claim_time" jdbcType="TIMESTAMP" property="last_claim_time"/>
        <result column="add_asset_type" jdbcType="TINYINT" property="add_asset_type"/>
        <result column="use_status" jdbcType="TINYINT" property="use_status"/>
        <result column="asset_status" jdbcType="TINYINT" property="asset_status"/>
        <result column="asset_sequence_no" jdbcType="VARCHAR" property="asset_sequence_no"/>
        <result column="extend_info" jdbcType="CLOB" property="extend_info"/>
        <result column="data_status" jdbcType="TINYINT" property="data_status"/>
        <result column="remark" jdbcType="VARCHAR" property="remark"/>
        <result column="version" jdbcType="INTEGER" property="version"/>
        <result column="create_time" jdbcType="TIMESTAMP" property="create_time"/>
        <result column="create_user" jdbcType="BIGINT" property="create_user"/>
        <result column="update_time" jdbcType="TIMESTAMP" property="update_time"/>
        <result column="update_user" jdbcType="BIGINT" property="update_user"/>
        <result column="expected_return_time" jdbcType="TIMESTAMP" property="expected_return_time"/>
        <result column="department_id" jdbcType="BIGINT" property="department_id"/>
        <result column="asset_data_type" jdbcType="INTEGER" property="asset_data_type"/>
        <result column="rent_amount" jdbcType="DECIMAL" property="rent_amount"/>
        <result column="erp_in_order_product_id" jdbcType="BIGINT" property="erp_in_order_product_id"/>
        <result column="asset_in_storage_type" jdbcType="INTEGER" property="asset_in_storage_type"/>
        <result column="use_type" jdbcType="TINYINT" property="use_type"/>
        <result column="supplier_contact_person" jdbcType="VARCHAR" property="supplier_contact_person"/>
        <result column="supplier_contact_details" jdbcType="VARCHAR" property="supplier_contact_details"/>
        <result column="maintenance_expiration_time" jdbcType="TIMESTAMP" property="maintenance_expiration_time"/>
        <result column="maintenance_instructions" jdbcType="VARCHAR" property="maintenance_instructions"/>
        <result column="quote_order_id" jdbcType="BIGINT" property="quote_order_id"/>
        <result column="quote_order_type" jdbcType="TINYINT" property="quote_order_type"/>
        <result column="residual_rate" jdbcType="DECIMAL" property="residual_rate"/>
        <result column="install_residual" jdbcType="TINYINT" property="install_residual"/>
        <result column="recorded_time" jdbcType="TIMESTAMP" property="recorded_time"/>
        <result column="stable_key" jdbcType="VARCHAR" property="stable_key"/>
        <result column="third_asset_id" jdbcType="VARCHAR" property="third_asset_id"/>
    </resultMap>

<!--     新增资产 -->
            <insert id="insertAsset"  parameterType="com.test.dataaccess.entity.AssetDO" useGeneratedKeys="true" keyProperty="id">
            INSERT INTO ams_asset(merchant_id, asset_category_id, manager_user_id, place_id, belong_company_id, use_company_id, employee_id, asset_image_id, asset_name, asset_code, brand, model, year_limit, amount, supplier_name, out_order_no, unit, purchase_time, last_claim_time, add_asset_type, use_status, asset_status, asset_sequence_no, extend_info, data_status, remark, version, create_time, create_user, update_time, update_user, expected_return_time, department_id, asset_data_type, rent_amount, erp_in_order_product_id, asset_in_storage_type, use_type, supplier_contact_person, supplier_contact_details, maintenance_expiration_time, maintenance_instructions, quote_order_id, quote_order_type, residual_rate, install_residual, recorded_time, stable_key, third_asset_id)
             VALUES  (#{merchantId}, #{asset_category_id}, #{manager_user_id},#{place_id}, #{belong_company_id},#{use_company_id}, #{employee_id}, #{asset_image_id}, #{asset_name}, #{asset_code}, #{brand}, #{model}, #{year_limit}, #{amount}, #{supplier_name}, #{out_order_no}, #{unit}, #{purchase_time}, #{last_claim_time}, #{add_asset_type}, #{use_status}, #{asset_status}, #{asset_sequence_no},#{extend_info}, #{data_status}, #{remark}, #{version},#{create_time}, #{create_user}, #{update_time},#{update_user}, #{expected_return_time}, #{department_id}, #{asset_data_type}, #{rent_amount}, #{erp_in_order_product_id}, #{asset_in_storage_type}, #{use_type}, #{supplier_contact_person}, #{supplier_contact_details},#{maintenance_expiration_time}, #{maintenance_instructions}, #{quote_order_id}, #{quote_order_type}, #{residual_rate}, #{install_residual}, #{recorded_time}, #{stable_key}, #{third_asset_id}  )
            </insert>

            <!--根据id查询资产详情-->
            <select id="selectAssetById" resultMap="AssetDO" parameterType="java.lang.Long">
            SELECT *  FROM ams_asset WHERE id = #{id, jdbcType=BIGINT}
             </select>

            <!-- 查询所有资产 -->
            <select id="selectAllAssets" resultMap="AssetDO" >
                SELECT * FROM ams_asset
            </select>

            <!-- 资产分页接口 -->
            <select id="selectAssetsByPage" resultType="com.test.dataaccess.entity.AssetDO">
                SELECT * FROM ams_asset LIMIT #{offset}, #{limit}
            </select>

            <!-- 修改资产 -->
            <update id="updateAsset" parameterType="com.test.dataaccess.entity.AssetDO" >
                UPDATE ams_asset
                SET merchant_id = #{merchantId}, asset_category_id = #{asset_category_id}
                WHERE id = #{id}
            </update>


</mapper>
